import{cZ as y,c_ as C,c$ as z,d0 as ce,d1 as Mt,d2 as I,d3 as ue,d4 as qr,d5 as Cn,d6 as ne,d7 as Vr,d8 as Wr,d9 as R,da as Pe,db as Jr,dc as Z,dd as Zr,de as ze,df as cn,dg as Xr,dh as Yr,di as Kr}from"./index-kMdOwXZx.js";import{dj as Li,dl as Gi,dk as zi,dm as Ui}from"./index-kMdOwXZx.js";function A(e,t,n){return r=>{var s,o;return((s=e[t.name])==null?void 0:s.call(e,r))??((o=e[n])==null?void 0:o.call(e,r))??t(e,r)}}function V(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new ds(e.type);return`${e.name}(${nt(e.inputs,{includeName:t})})`}function nt(e,{includeName:t=!1}={}){return e?e.map(n=>Qr(n,{includeName:t})).join(t?", ":","):""}function Qr(e,{includeName:t}){return e.type.startsWith("tuple")?`(${nt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class es extends y{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class un extends y{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Nn extends y{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${nt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class rt extends y{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class ts extends y{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class ns extends y{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${C(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class rs extends y{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Rn extends y{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ss extends y{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Sn extends y{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class ln extends y{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Ye extends y{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class os extends y{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class as extends y{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${V(t.abiItem)}\`, and`,`\`${n.type}\` in \`${V(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class is extends y{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ee extends y{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${nt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class st extends y{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${V(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class cs extends y{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class us extends y{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class ls extends y{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ds extends y{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class fs extends y{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}function ot(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}const bs=new TextEncoder;function X(e,t={}){return typeof e=="number"||typeof e=="bigint"?ps(e,t):typeof e=="boolean"?hs(e,t):z(e)?se(e,t):H(e,t)}function hs(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(ce(n,{size:t.size}),Mt(n,{size:t.size})):n}const D={zero:48,nine:57,A:65,F:70,a:97,f:102};function dn(e){if(e>=D.zero&&e<=D.nine)return e-D.zero;if(e>=D.A&&e<=D.F)return e-(D.A-10);if(e>=D.a&&e<=D.f)return e-(D.a-10)}function se(e,t={}){let n=e;t.size&&(ce(n,{size:t.size}),n=Mt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,o=new Uint8Array(s);for(let a=0,i=0;a<s;a++){const c=dn(r.charCodeAt(i++)),u=dn(r.charCodeAt(i++));if(c===void 0||u===void 0)throw new y(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);o[a]=c*16+u}return o}function ps(e,t){const n=I(e,t);return se(n)}function H(e,t={}){const n=bs.encode(e);return typeof t.size=="number"?(ce(n,{size:t.size}),Mt(n,{dir:"right",size:t.size})):n}function fn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Mn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Ke(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ln(e,t){Mn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const We=BigInt(2**32-1),bn=BigInt(32);function ms(e,t=!1){return t?{h:Number(e&We),l:Number(e>>bn&We)}:{h:Number(e>>bn&We)|0,l:Number(e&We)|0}}function ys(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:a}=ms(e[s],t);[n[s],r[s]]=[o,a]}return[n,r]}const gs=(e,t,n)=>e<<n|t>>>32-n,ws=(e,t,n)=>t<<n|e>>>32-n,vs=(e,t,n)=>t<<n-32|e>>>64-n,xs=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ps=e=>e instanceof Uint8Array,Es=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ft=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),G=(e,t)=>e<<32-t|e>>>t,As=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!As)throw new Error("Non little-endian hardware is not supported");function Ts(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Lt(e){if(typeof e=="string"&&(e=Ts(e)),!Ps(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Gn{clone(){return this._cloneInto()}}function zn(e){const t=r=>e().update(Lt(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[Un,_n,Dn]=[[],[],[]],Bs=BigInt(0),ve=BigInt(1),Is=BigInt(2),Os=BigInt(7),ks=BigInt(256),Fs=BigInt(113);for(let e=0,t=ve,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Un.push(2*(5*r+n)),_n.push((e+1)*(e+2)/2%64);let s=Bs;for(let o=0;o<7;o++)t=(t<<ve^(t>>Os)*Fs)%ks,t&Is&&(s^=ve<<(ve<<BigInt(o))-ve);Dn.push(s)}const[$s,js]=ys(Dn,!0),hn=(e,t,n)=>n>32?vs(e,t,n):gs(e,t,n),pn=(e,t,n)=>n>32?xs(e,t,n):ws(e,t,n);function Cs(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let a=0;a<10;a++)n[a]=e[a]^e[a+10]^e[a+20]^e[a+30]^e[a+40];for(let a=0;a<10;a+=2){const i=(a+8)%10,c=(a+2)%10,u=n[c],d=n[c+1],l=hn(u,d,1)^n[i],f=pn(u,d,1)^n[i+1];for(let h=0;h<50;h+=10)e[a+h]^=l,e[a+h+1]^=f}let s=e[2],o=e[3];for(let a=0;a<24;a++){const i=_n[a],c=hn(s,o,i),u=pn(s,o,i),d=Un[a];s=e[d],o=e[d+1],e[d]=c,e[d+1]=u}for(let a=0;a<50;a+=10){for(let i=0;i<10;i++)n[i]=e[a+i];for(let i=0;i<10;i++)e[a+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=$s[r],e[1]^=js[r]}n.fill(0)}class Gt extends Gn{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,fn(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Es(this.state)}keccak(){Cs(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Ke(this);const{blockLen:n,state:r}=this;t=Lt(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);for(let i=0;i<a;i++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Ke(this,!1),Mn(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return fn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ln(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:a}=this;return t||(t=new Gt(n,r,s,a,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=a,t.destroyed=this.destroyed,t}}const Ns=(e,t,n)=>zn(()=>new Gt(t,e,n)),Rs=Ns(1,136,256/8);function S(e,t){const n=t||"hex",r=Rs(z(e,{strict:!1})?X(e):e);return n==="bytes"?r:ue(r)}const Ss=e=>S(X(e));function Ms(e){return Ss(e)}function Ls(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new y("Unable to normalize signature.");return s}const Gs=e=>{const t=typeof e=="string"?e:qr(e);return Ls(t)};function Hn(e){return Ms(Gs(e))}const zt=Hn;class oe extends y{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}class qn extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}set(t,n){return super.set(t,n),this.maxSize&&this.size>this.maxSize&&this.delete(this.keys().next().value),this}}const bt=new qn(8192);function Vn(e,t){if(bt.has(`${e}.${t}`))return bt.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=S(H(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());const o=`0x${s.join("")}`;return bt.set(`${e}.${t}`,o),o}const zs=/^0x[a-fA-F0-9]{40}$/,ht=new qn(8192);function U(e,t){const{strict:n=!0}=t??{};if(ht.has(e))return ht.get(e);const r=zs.test(e)?e.toLowerCase()===e?!0:n?Vn(e)===e:!0:!1;return ht.set(e,r),r}function _(e){return typeof e[0]=="string"?Ut(e):Us(e)}function Us(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ut(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Qe(e,t,n,{strict:r}={}){return z(e,{strict:!1})?_s(e,t,n,{strict:r}):Zn(e,t,n,{strict:r})}function Wn(e,t){if(typeof t=="number"&&t>0&&t>C(e)-1)throw new Cn({offset:t,position:"start",size:C(e)})}function Jn(e,t,n){if(typeof t=="number"&&typeof n=="number"&&C(e)!==n-t)throw new Cn({offset:n,position:"end",size:C(e)})}function Zn(e,t,n,{strict:r}={}){Wn(e,t);const s=e.slice(t,n);return r&&Jn(s,t,n),s}function _s(e,t,n,{strict:r}={}){Wn(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Jn(s,t,n),s}function me(e,t){if(e.length!==t.length)throw new rs({expectedLength:e.length,givenLength:t.length});const n=Ds({params:e,values:t}),r=Dt(n);return r.length===0?"0x":r}function Ds({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(_t({param:e[r],value:t[r]}));return n}function _t({param:e,value:t}){const n=Ht(e.type);if(n){const[r,s]=n;return qs(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Xs(t,{param:e});if(e.type==="address")return Hs(t);if(e.type==="bool")return Ws(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Js(t,{signed:r})}if(e.type.startsWith("bytes"))return Vs(t,{param:e});if(e.type==="string")return Zs(t);throw new cs(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Dt(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=C(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(I(t+s,{size:32})),r.push(i),s+=C(i)):n.push(i)}return _([...n,...r])}function Hs(e){if(!U(e))throw new oe({address:e});return{dynamic:!1,encoded:ne(e.toLowerCase())}}function qs(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new ls(e);if(!r&&e.length!==t)throw new ts({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=_t({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=Dt(o);if(r){const i=I(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?_([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:_(o.map(({encoded:a})=>a))}}function Vs(e,{param:t}){const[,n]=t.type.split("bytes"),r=C(e);if(!n){let s=e;return r%32!==0&&(s=ne(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:_([ne(I(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new ns({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:ne(e,{dir:"right"})}}function Ws(e){if(typeof e!="boolean")throw new y(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:ne(Vr(e))}}function Js(e,{signed:t}){return{dynamic:!1,encoded:I(e,{size:32,signed:t})}}function Zs(e){const t=Wr(e),n=Math.ceil(C(t)/32),r=[];for(let s=0;s<n;s++)r.push(ne(Qe(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:_([ne(I(C(t),{size:32})),...r])}}function Xs(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=_t({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Dt(r):_(r.map(({encoded:s})=>s))}}function Ht(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const qt=e=>Qe(Hn(e),0,4);function Ue(e){const{abi:t,args:n=[],name:r}=e,s=z(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?qt(i)===r:i.type==="event"?zt(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in i&&i.inputs[d];return l?wt(u,l):!1})){if(a&&"inputs"in a&&a.inputs){const u=Xn(i.inputs,a.inputs,n);if(u)throw new as({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||o[0]}function wt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return U(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>wt(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>wt(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Xn(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Xn(s.components,o.components,n[r]);const a=[s.type,o.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?U(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?U(n[r],{strict:!1}):!1)return a}}const mn="/docs/contract/encodeEventTopics";function _e(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ue({abi:t,name:n});if(!u)throw new ln(n,{docsPath:mn});s=u}if(s.type!=="event")throw new ln(void 0,{docsPath:mn});const o=V(s),a=zt(o);let i=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(i=(u==null?void 0:u.map((l,f)=>Array.isArray(d[f])?d[f].map((h,p)=>yn({param:l,value:d[f][p]})):d[f]?yn({param:l,value:d[f]}):null))??[])}return[a,...i]}function yn({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return S(X(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new fs(e.type);return me([e],[t])}function at(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:a,status:i,transport:c})=>{i==="success"&&t===o&&(n[a]=c.request)})),o=>n[o]||e.request}async function Yn(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:a,strict:i,toBlock:c}=t,u=at(e,{method:"eth_newFilter"}),d=o?_e({abi:r,args:s,eventName:o}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?I(a):a,toBlock:typeof c=="bigint"?I(c):c,topics:d}]});return{abi:r,args:s,eventName:o,id:l,request:u(l),strict:!!i,type:"event"}}function te(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const gn="/docs/contract/encodeFunctionData";function Ys(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=Ue({abi:t,args:n,name:r});if(!o)throw new Ye(r,{docsPath:gn});s=o}if(s.type!=="function")throw new Ye(void 0,{docsPath:gn});return{abi:[s],functionName:qt(V(s))}}function le(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:Ys(e)})(),s=n[0],o=r,a="inputs"in s&&s.inputs?me(s.inputs,t??[]):void 0;return Ut([o,a??"0x"])}const Kn={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Ks={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Qs={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class wn extends y{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NegativeOffsetError"})}}class Qn extends y{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PositionOutOfBoundsError"})}}class eo extends y{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RecursiveReadLimitExceededError"})}}const to={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new eo({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Qn({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new wn({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new wn({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function er(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(to);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function no(e,t={}){typeof t.size<"u"&&ce(e,{size:t.size});const n=R(e,t);return Pe(n,t)}function ro(e,t={}){let n=e;if(typeof t.size<"u"&&(ce(n,{size:t.size}),n=ot(n)),n.length>1||n[0]>1)throw new Jr(n);return!!n[0]}function q(e,t={}){typeof t.size<"u"&&ce(e,{size:t.size});const n=R(e,t);return Z(n,t)}function so(e,t={}){let n=e;return typeof t.size<"u"&&(ce(n,{size:t.size}),n=ot(n,{dir:"right"})),new TextDecoder().decode(n)}function it(e,t){const n=typeof t=="string"?se(t):t,r=er(n);if(C(n)===0&&e.length>0)throw new rt;if(C(t)&&C(t)<32)throw new Nn({data:typeof t=="string"?t:R(t),params:e,size:C(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(s);const[c,u]=be(r,i,{staticPosition:0});s+=u,o.push(c)}return o}function be(e,t,{staticPosition:n}){const r=Ht(t.type);if(r){const[s,o]=r;return ao(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return lo(e,t,{staticPosition:n});if(t.type==="address")return oo(e);if(t.type==="bool")return io(e);if(t.type.startsWith("bytes"))return co(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return uo(e,t);if(t.type==="string")return fo(e,{staticPosition:n});throw new us(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const vn=32,vt=32;function oo(e){const t=e.readBytes(32);return[Vn(R(Zn(t,-20))),32]}function ao(e,t,{length:n,staticPosition:r}){if(!n){const a=q(e.readBytes(vt)),i=r+a,c=i+vn;e.setPosition(i);const u=q(e.readBytes(vn)),d=Ae(t);let l=0;const f=[];for(let h=0;h<u;++h){e.setPosition(c+(d?h*32:l));const[p,b]=be(e,t,{staticPosition:c});l+=b,f.push(p)}return e.setPosition(r+32),[f,32]}if(Ae(t)){const a=q(e.readBytes(vt)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[d]=be(e,t,{staticPosition:i});c.push(d)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let a=0;a<n;++a){const[i,c]=be(e,t,{staticPosition:r+s});s+=c,o.push(i)}return[o,s]}function io(e){return[ro(e.readBytes(32),{size:32}),32]}function co(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=q(e.readBytes(32));e.setPosition(n+a);const i=q(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[R(c),32]}return[R(e.readBytes(Number.parseInt(s),32)),32]}function uo(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),s=e.readBytes(32);return[r>48?no(s,{signed:n}):q(s,{signed:n}),32]}function lo(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let o=0;if(Ae(t)){const a=q(e.readBytes(vt)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+o);const[d,l]=be(e,u,{staticPosition:i});o+=l,s[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=be(e,i,{staticPosition:n});s[r?a:i==null?void 0:i.name]=c,o+=u}return[s,o]}function fo(e,{staticPosition:t}){const n=q(e.readBytes(32)),r=t+n;e.setPosition(r);const s=q(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=so(ot(o));return e.setPosition(t+32),[a,32]}function Ae(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Ae);const n=Ht(e.type);return!!(n&&Ae({...e,type:n[1]}))}function tr(e){const{abi:t,data:n}=e,r=Qe(n,0,4);if(r==="0x")throw new rt;const o=[...t||[],Ks,Qs].find(a=>a.type==="error"&&r===qt(V(a)));if(!o)throw new Rn(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?it(o.inputs,Qe(n,4)):void 0,errorName:o.name}}const N=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function nr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?N(t[o]):t[o]}`).join(", ")})`}const bo={gwei:9,wei:18},ho={ether:-9,wei:9};function rr(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function sr(e,t="wei"){return rr(e,bo[t])}function L(e,t="wei"){return rr(e,ho[t])}class po extends y{constructor({address:t}){super(`State for account "${t}" is set multiple times.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountStateConflictError"})}}class mo extends y{constructor(){super("state and stateDiff are set on the same account."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"StateAssignmentConflictError"})}}function xn(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function yo(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=xn(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=xn(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function ct(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class go extends y{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class wo extends y{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ct(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class or extends y{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let a="Transaction";r&&o!==void 0&&(a=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(a=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(a=`Transaction at block number "${n}" at index "${o}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class ar extends y{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Pn extends y{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class ir extends y{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f,stateOverride:h}){var g;const p=n?te(n):void 0;let b=ct({from:p==null?void 0:p.address,to:l,value:typeof f<"u"&&`${sr(f)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${L(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${L(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${L(u)} gwei`,nonce:d});h&&(b+=`
${yo(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",b].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class vo extends y{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:a,sender:i}){const c=Ue({abi:n,args:r,name:a}),u=c?nr({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?V(c,{includeName:!0}):void 0,l=ct({address:s&&Zr(s),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",l].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class xt extends y{constructor({abi:t,data:n,functionName:r,message:s}){let o,a,i,c;if(n&&n!=="0x")try{a=tr({abi:t,data:n});const{abiItem:d,errorName:l,args:f}=a;if(l==="Error")c=f[0];else if(l==="Panic"){const[h]=f;c=Kn[h]}else{const h=d?V(d,{includeName:!0}):void 0,p=d&&f?nr({abiItem:d,args:f,includeFunctionName:!1,includeName:!1}):void 0;i=[h?`Error: ${h}`:"",p&&p!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){o=d}else s&&(c=s);let u;o instanceof Rn&&(u=o.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=u}}class xo extends y{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Vt extends y{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class re extends y{constructor({body:t,details:n,headers:r,status:s,url:o}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${ze(o)}`,t&&`Request body: ${N(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=o}}class cr extends y{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ze(r)}`,`Request body: ${N(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class En extends y{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ze(n)}`,`Request body: ${N(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Po=-1;class M extends y{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof cr?t.code:n??Po}}class ye extends M{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Te extends M{constructor(t){super(t,{code:Te.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Te,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Be extends M{constructor(t){super(t,{code:Be.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Be,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ie extends M{constructor(t){super(t,{code:Ie.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Oe extends M{constructor(t){super(t,{code:Oe.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ae extends M{constructor(t){super(t,{code:ae.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(ae,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class ie extends M{constructor(t){super(t,{code:ie.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(ie,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ke extends M{constructor(t){super(t,{code:ke.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ke,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Fe extends M{constructor(t){super(t,{code:Fe.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class $e extends M{constructor(t){super(t,{code:$e.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty($e,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class je extends M{constructor(t){super(t,{code:je.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class pe extends M{constructor(t){super(t,{code:pe.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(pe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ce extends M{constructor(t){super(t,{code:Ce.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Ce,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class he extends ye{constructor(t){super(t,{code:he.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(he,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ne extends ye{constructor(t){super(t,{code:Ne.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Ne,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Re extends ye{constructor(t){super(t,{code:Re.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Se extends ye{constructor(t){super(t,{code:Se.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Se,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Me extends ye{constructor(t){super(t,{code:Me.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Me,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Le extends ye{constructor(t){super(t,{code:Le.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Le,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Eo extends M{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Ao=3;function Ge(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const{code:i,data:c,message:u,shortMessage:d}=e instanceof Vt?e:e instanceof y?e.walk(f=>"data"in f)||e.walk():{},l=e instanceof rt?new xo({functionName:o}):[Ao,ae.code].includes(i)&&(c||u||d)?new xt({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:d??u}):e;return new vo(l,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}class To extends y{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:f}){var p;const h=ct({from:n==null?void 0:n.address,to:l,value:typeof f<"u"&&`${sr(f)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${L(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${L(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${L(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class fe extends y{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(fe,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class et extends y{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${L(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Pt extends y{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${L(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Et extends y{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Et,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class At extends y{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(At,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Tt extends y{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(Tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Bt extends y{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class It extends y{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(It,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ot extends y{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ot,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class kt extends y{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class tt extends y{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${L(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${L(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(tt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Wt extends y{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function ur(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof y?e.walk(s=>s.code===fe.code):e;return r instanceof y?new fe({cause:e,message:r.details}):fe.nodeMessage.test(n)?new fe({cause:e,message:e.details}):et.nodeMessage.test(n)?new et({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Pt.nodeMessage.test(n)?new Pt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Et.nodeMessage.test(n)?new Et({cause:e,nonce:t==null?void 0:t.nonce}):At.nodeMessage.test(n)?new At({cause:e,nonce:t==null?void 0:t.nonce}):Tt.nodeMessage.test(n)?new Tt({cause:e,nonce:t==null?void 0:t.nonce}):Bt.nodeMessage.test(n)?new Bt({cause:e}):It.nodeMessage.test(n)?new It({cause:e,gas:t==null?void 0:t.gas}):Ot.nodeMessage.test(n)?new Ot({cause:e,gas:t==null?void 0:t.gas}):kt.nodeMessage.test(n)?new kt({cause:e}):tt.nodeMessage.test(n)?new tt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Wt({cause:e})}function Bo(e,{docsPath:t,...n}){const r=(()=>{const s=ur(e,n);return s instanceof Wt?e:s})();return new To(r,{docsPath:t,...n})}function lr(e,{format:t}){if(!t)return{};const n={};function r(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&r(o[i])}const s=t(e||{});return r(s),n}const Io={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3"};function dr(e){const t={};return typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>R(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=I(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=I(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=I(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=I(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=I(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=I(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Io[e.type]),typeof e.value<"u"&&(t.value=I(e.value)),t}function An(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new cn({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new cn({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Oo(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=I(t)),n!==void 0&&(a.nonce=I(n)),r!==void 0&&(a.state=An(r)),s!==void 0){if(a.state)throw new mo;a.stateDiff=An(s)}return a}function fr(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!U(n,{strict:!1}))throw new oe({address:n});if(t[n])throw new po({address:n});t[n]=Oo(r)}return t}function Jt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,a=t?te(t):void 0;if(a&&!U(a.address))throw new oe({address:a.address});if(o&&!U(o))throw new oe({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new go;if(r&&r>2n**256n-1n)throw new et({maxFeePerGas:r});if(s&&r&&s>r)throw new tt({maxFeePerGas:r,maxPriorityFeePerGas:s})}class ko extends y{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Zt extends y{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Fo extends y{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${L(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class br extends y{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const hr={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844"};function pr(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?Z(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?Z(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?hr[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}function mr(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:pr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Y(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,l,f;const o=r??"latest",a=s??!1,i=n!==void 0?I(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||o,a]}),!c)throw new br({blockHash:t,blockNumber:n});return(((f=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.block)==null?void 0:f.format)||mr)(c)}async function Xt(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function $o(e,t){return yr(e,t)}async function yr(e,t){var o,a,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)=="function"){const c=n||await A(e,Y,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Pe(c)}catch{const[c,u]=await Promise.all([n?Promise.resolve(n):A(e,Y,"getBlock")({}),A(e,Xt,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Zt;const d=u-c.baseFeePerGas;return d<0n?0n:d}}async function jo(e,t){return Ft(e,t)}async function Ft(e,t){var f,h;const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new ko;const c=10**(((f=a.toString().split(".")[1])==null?void 0:f.length)??0),u=p=>p*BigInt(Math.ceil(a*c))/BigInt(c),d=n||await A(e,Y,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const p=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Zt;const p=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await yr(e,{block:d,chain:r,request:s}),b=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await A(e,Xt,"getGasPrice")({}))}}async function gr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?I(r):n]});return Z(s)}function wr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>se(o)):e.blobs,s=[];for(const o of r)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return n==="bytes"?s:s.map(o=>R(o))}function vr(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>se(a)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(a=>se(a)):e.commitments,o=[];for(let a=0;a<r.length;a++){const i=r[a],c=s[a];o.push(Uint8Array.from(t.computeBlobKzgProof(i,c)))}return n==="bytes"?o:o.map(a=>R(a))}function Co(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),a=Number(n>>s&o),i=Number(n&o),c=r?4:0,u=r?0:4;e.setUint32(t+c,a,r),e.setUint32(t+u,i,r)}class No extends Gn{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ft(this.buffer)}update(t){Ke(this);const{view:n,buffer:r,blockLen:s}=this;t=Lt(t);const o=t.length;for(let a=0;a<o;){const i=Math.min(s-this.pos,o-a);if(i===s){const c=ft(t);for(;s<=o-a;a+=s)this.process(c,a);continue}r.set(t.subarray(a,a+i),this.pos),this.pos+=i,a+=i,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ke(this),Ln(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:a}=this;n[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>s-a&&(this.process(r,0),a=0);for(let l=a;l<s;l++)n[l]=0;Co(r,s-8,BigInt(this.length*8),o),this.process(r,0);const i=ft(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<u;l++)i.setUint32(4*l,d[l],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:a,pos:i}=this;return t.length=s,t.pos=i,t.finished=o,t.destroyed=a,s%n&&t.buffer.set(r),t}}const Ro=(e,t,n)=>e&t^~e&n,So=(e,t,n)=>e&t^e&n^t&n,Mo=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),W=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),J=new Uint32Array(64);class Lo extends No{constructor(){super(64,32,8,!1),this.A=W[0]|0,this.B=W[1]|0,this.C=W[2]|0,this.D=W[3]|0,this.E=W[4]|0,this.F=W[5]|0,this.G=W[6]|0,this.H=W[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:a,G:i,H:c}=this;return[t,n,r,s,o,a,i,c]}set(t,n,r,s,o,a,i,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=a|0,this.G=i|0,this.H=c|0}process(t,n){for(let l=0;l<16;l++,n+=4)J[l]=t.getUint32(n,!1);for(let l=16;l<64;l++){const f=J[l-15],h=J[l-2],p=G(f,7)^G(f,18)^f>>>3,b=G(h,17)^G(h,19)^h>>>10;J[l]=b+J[l-7]+p+J[l-16]|0}let{A:r,B:s,C:o,D:a,E:i,F:c,G:u,H:d}=this;for(let l=0;l<64;l++){const f=G(i,6)^G(i,11)^G(i,25),h=d+f+Ro(i,c,u)+Mo[l]+J[l]|0,b=(G(r,2)^G(r,13)^G(r,22))+So(r,s,o)|0;d=u,u=c,c=i,i=a+h|0,a=o,o=s,s=r,r=h+b|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,a=a+this.D|0,i=i+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,o,a,i,c,u,d)}roundClean(){J.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Go=zn(()=>new Lo);function zo(e,t){return Go(z(e,{strict:!1})?X(e):e)}function Uo(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=zo(t);return s.set([n],0),r==="bytes"?s:R(s)}function _o(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const o of t)s.push(Uo({commitment:o,to:r,version:n}));return s}const Tn=6,xr=32,Yt=4096,Pr=xr*Yt,Bn=Pr*Tn-1-1*Yt*Tn;class Do extends y{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlobSizeTooLargeError"})}}class Ho extends y{constructor(){super("Blob data must not be empty."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EmptyBlobError"})}}function qo(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?se(e.data):e.data,r=C(n);if(!r)throw new Ho;if(r>Bn)throw new Do({maxSize:Bn,size:r});const s=[];let o=!0,a=0;for(;o;){const i=er(new Uint8Array(Pr));let c=0;for(;c<Yt;){const u=n.slice(a,a+(xr-1));if(i.pushByte(0),i.pushBytes(u),u.length<31){i.pushByte(128),o=!1;break}c++,a+=31}s.push(i)}return t==="bytes"?s.map(i=>i.bytes):s.map(i=>R(i.bytes))}function Vo(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??qo({data:t,to:r}),o=e.commitments??wr({blobs:s,kzg:n,to:r}),a=e.proofs??vr({blobs:s,commitments:o,kzg:n,to:r}),i=[];for(let c=0;c<s.length;c++)i.push({blob:s[c],commitment:o[c],proof:a[c]});return i}function Wo(e){if(e.type)return e.type;if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new wo({transaction:e})}async function Er(e){const t=await e.request({method:"eth_chainId"});return Z(t)}const Jo=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Ar(e,t){const{account:n=e.account,blobs:r,chain:s,chainId:o,gas:a,kzg:i,nonce:c,parameters:u=Jo,type:d}=t,l=n?te(n):void 0,f={...t,...l?{from:l==null?void 0:l.address}:{}};let h;async function p(){return h||(h=await A(e,Y,"getBlock")({blockTag:"latest"}),h)}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&i){const b=wr({blobs:r,kzg:i});if(u.includes("blobVersionedHashes")){const g=_o({commitments:b,to:"hex"});f.blobVersionedHashes=g}if(u.includes("sidecars")){const g=vr({blobs:r,commitments:b,kzg:i}),m=Vo({blobs:r,commitments:b,proofs:g,to:"hex"});f.sidecars=m}}if(u.includes("chainId")&&(s?f.chainId=s.id:typeof o<"u"?f.chainId=o:f.chainId=await A(e,Er,"getChainId")({})),u.includes("nonce")&&typeof c>"u"&&l&&(f.nonce=await A(e,gr,"getTransactionCount")({address:l.address,blockTag:"pending"})),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{f.type=Wo(f)}catch{const b=await p();f.type=typeof(b==null?void 0:b.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const b=await p(),{maxFeePerGas:g,maxPriorityFeePerGas:m}=await Ft(e,{block:b,chain:s,request:f});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<m)throw new Fo({maxPriorityFeePerGas:m});f.maxPriorityFeePerGas=m,f.maxFeePerGas=g}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Zt;const b=await p(),{gasPrice:g}=await Ft(e,{block:b,chain:s,request:f,type:"legacy"});f.gasPrice=g}return u.includes("gas")&&typeof a>"u"&&(f.gas=await A(e,Kt,"estimateGas")({...f,account:l?{address:l.address,type:"json-rpc"}:void 0})),Jt(f),delete f.parameters,f}async function Kt(e,t){var s,o,a;const n=t.account??e.account,r=n?te(n):void 0;try{const{accessList:i,blobs:c,blobVersionedHashes:u,blockNumber:d,blockTag:l,data:f,gas:h,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:w,to:x,value:v,stateOverride:O,...T}=await Ar(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),E=(d?I(d):void 0)||l,P=fr(O);Jt(t);const k=(a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest)==null?void 0:a.format,j=(k||dr)({...lr(T,{format:k}),from:r==null?void 0:r.address,accessList:i,blobs:c,blobVersionedHashes:u,data:f,gas:h,gasPrice:p,maxFeePerBlobGas:b,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:w,to:x,value:v}),$=await e.request({method:"eth_estimateGas",params:P?[j,E??"latest",P]:E?[j,E]:[j]});return BigInt($)}catch(i){throw Bo(i,{...t,account:r,chain:e.chain})}}async function Zo(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=le({abi:n,args:s,functionName:o});try{return await A(e,Kt,"estimateGas")({data:i,to:r,...a})}catch(c){const u=a.account?te(a.account):void 0;throw Ge(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u==null?void 0:u.address})}}const In="/docs/contract/decodeEventLog";function Qt(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[a,...i]=s;if(!a)throw new ss({docsPath:In});const c=t.find(b=>b.type==="event"&&a===zt(V(b)));if(!(c&&"name"in c)||c.type!=="event")throw new Sn(a,{docsPath:In});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(b=>!("name"in b&&b.name));let f=l?[]:{};const h=d.filter(b=>"indexed"in b&&b.indexed);for(let b=0;b<h.length;b++){const g=h[b],m=i[b];if(!m)throw new st({abiItem:c,param:g});f[l?b:g.name||b]=Xo({param:g,value:m})}const p=d.filter(b=>!("indexed"in b&&b.indexed));if(p.length>0){if(n&&n!=="0x")try{const b=it(p,n);if(b)if(l)f=[...f,...b];else for(let g=0;g<p.length;g++)f[p[g].name]=b[g]}catch(b){if(o)throw b instanceof Nn||b instanceof Qn?new Ee({abiItem:c,data:n,params:p,size:C(n)}):b}else if(o)throw new Ee({abiItem:c,data:"0x",params:p,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function Xo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(it([e],t)||[])[0]}function en({abi:e,eventName:t,logs:n,strict:r=!0}){return n.map(s=>{var o;try{const a=Qt({...s,abi:e,strict:r});return t&&!t.includes(a.eventName)?null:{...a,...s}}catch(a){let i,c;if(a instanceof Sn)return null;if(a instanceof Ee||a instanceof st){if(r)return null;i=a.abiItem.name,c=(o=a.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return{...s,args:c?[]:{},eventName:i}}}).filter(Boolean)}function K(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function tn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:a,args:i,strict:c}={}){const u=c??!1,d=a??(o?[o]:void 0);let l=[];d&&(l=[d.flatMap(p=>_e({abi:[p],eventName:p.name,args:i}))],o&&(l=l[0]));let f;n?f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):f=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?I(r):r,toBlock:typeof s=="bigint"?I(s):s}]});const h=f.map(p=>K(p));return d?en({abi:d,logs:h,strict:u}):h}async function Tr(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:a,fromBlock:i,toBlock:c,strict:u}=t,d=a?Ue({abi:n,name:a}):void 0,l=d?void 0:n.filter(f=>f.type==="event");return A(e,tn,"getLogs")({address:r,args:s,blockHash:o,event:d,events:l,fromBlock:i,toBlock:c,strict:u})}const pt="/docs/contract/decodeFunctionResult";function ge(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const i=Ue({abi:t,args:n,name:r});if(!i)throw new Ye(r,{docsPath:pt});o=i}if(o.type!=="function")throw new Ye(void 0,{docsPath:pt});if(!o.outputs)throw new os(o.name,{docsPath:pt});const a=it(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const $t=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Br=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Ir=[...Br,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Yo=[...Br,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],On=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],kn=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ko=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Qo="0x82ad56cb";class jt extends y{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Or extends y{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function we({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new jt({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new jt({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ea(e,{docsPath:t,...n}){const r=(()=>{const s=ur(e,n);return s instanceof Wt?e:s})();return new ir(r,{docsPath:t,...n})}const mt=new Map;function kr({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const o=async()=>{const d=c();a();const l=d.map(({args:f})=>f);l.length!==0&&e(l).then(f=>{var h;s&&Array.isArray(f)&&f.sort(s);for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(h=b.resolve)==null||h.call(b,[f[p],f])}}).catch(f=>{var h;for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(h=b.reject)==null||h.call(b,f)}})},a=()=>mt.delete(t),i=()=>c().map(({args:d})=>d),c=()=>mt.get(t)||[],u=d=>mt.set(t,[...c(),d]);return{flush:a,async schedule(d){const l={},f=new Promise((b,g)=>{l.resolve=b,l.reject=g});return(n==null?void 0:n([...i(),d]))&&o(),c().length>0?(u({args:d,pendingPromise:l}),f):(u({args:d,pendingPromise:l}),setTimeout(o,r),f)}}}async function De(e,t){var v,O,T,B;const{account:n=e.account,batch:r=!!((v=e.batch)!=null&&v.multicall),blockNumber:s,blockTag:o="latest",accessList:a,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:b,value:g,stateOverride:m,...w}=t,x=n?te(n):void 0;try{Jt(t);const P=(s?I(s):void 0)||o,k=fr(m),F=(B=(T=(O=e.chain)==null?void 0:O.formatters)==null?void 0:T.transactionRequest)==null?void 0:B.format,$=(F||dr)({...lr(w,{format:F}),from:x==null?void 0:x.address,accessList:a,blobs:i,data:c,gas:u,gasPrice:d,maxFeePerBlobGas:l,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:p,to:b,value:g});if(r&&ta({request:$})&&!k)try{return await na(e,{...$,blockNumber:s,blockTag:o})}catch(de){if(!(de instanceof Or)&&!(de instanceof jt))throw de}const Ve=await e.request({method:"eth_call",params:k?[$,P,k]:[$,P]});return Ve==="0x"?{data:void 0}:{data:Ve}}catch(E){const P=ra(E),{offchainLookup:k,offchainLookupSignature:F}=await Xr(async()=>{const{offchainLookup:j,offchainLookupSignature:$}=await Promise.resolve().then(()=>Qa);return{offchainLookup:j,offchainLookupSignature:$}},void 0);if(e.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===F&&b)return{data:await k(e,{data:P,to:b})};throw ea(E,{...t,account:x,chain:e.chain})}}function ta({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Qo)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function na(e,t){var b;const{batchSize:n=1024,wait:r=0}=typeof((b=e.batch)==null?void 0:b.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:a,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Or;u=we({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=(s?I(s):void 0)||o,{schedule:f}=kr({id:`${e.uid}.${l}`,wait:r,shouldSplitBatch(g){return g.reduce((w,{data:x})=>w+(x.length-2),0)>n*2},fn:async g=>{const m=g.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),w=le({abi:$t,args:[m],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:w,to:u},l]});return ge({abi:$t,args:[m],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:h,success:p}]=await f({data:a,to:c});if(!p)throw new Vt({data:h});return h==="0x"?{data:void 0}:{data:h}}function ra(e){var n;if(!(e instanceof y))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function Q(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=le({abi:n,args:s,functionName:o});try{const{data:c}=await A(e,De,"call")({...a,data:i,to:r});return ge({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw Ge(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function sa(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:a,...i}=t,c=i.account?te(i.account):e.account,u=le({abi:n,args:s,functionName:a});try{const{data:d}=await A(e,De,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...i,account:c}),l=ge({abi:n,args:s,functionName:a,data:d||"0x"}),f=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:l,request:{abi:f,address:r,args:s,dataSuffix:o,functionName:a,...i,account:c}}}catch(d){throw Ge(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}const yt=new Map,Fn=new Map;let oa=0;function ee(e,t,n){const r=++oa,s=()=>yt.get(e)||[],o=()=>{const d=s();yt.set(e,d.filter(l=>l.id!==r))},a=()=>{const d=Fn.get(e);s().length===1&&d&&d(),o()},i=s();if(yt.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const d in t)c[d]=(...l)=>{var h,p;const f=s();if(f.length!==0)for(const b of f)(p=(h=b.fns)[d])==null||p.call(h,...l)};const u=n(c);return typeof u=="function"&&Fn.set(e,u),a}async function Ct(e){return new Promise(t=>setTimeout(t,e))}function He(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await(n==null?void 0:n(i))??r;await Ct(c);const u=async()=>{s&&(await e({unpoll:o}),await Ct(r),u())};u()})(),o}const aa=new Map,ia=new Map;function ca(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,aa),r=t(e,ia);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function ua(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=ca(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const la=e=>`blockNumber.${e}`;async function qe(e,{cacheTime:t=e.cacheTime}={}){const n=await ua(()=>e.request({method:"eth_blockNumber"}),{cacheKey:la(e.uid),cacheTime:t});return BigInt(n)}async function ut(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>K(o));return!("abi"in t)||!t.abi?s:en({abi:t.abi,logs:s,strict:n})}async function lt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function da(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:a,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:f}=t;return(typeof d<"u"?d:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const g=f??!1,m=N(["watchContractEvent",r,s,o,e.uid,a,l,g,i]);return ee(m,{onLogs:u,onError:c},w=>{let x;i!==void 0&&(x=i-1n);let v,O=!1;const T=He(async()=>{var B;if(!O){try{v=await A(e,Yn,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:g,fromBlock:i})}catch{}O=!0;return}try{let E;if(v)E=await A(e,ut,"getFilterChanges")({filter:v});else{const P=await A(e,qe,"getBlockNumber")({});x&&x!==P?E=await A(e,Tr,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:x+1n,toBlock:P,strict:g}):E=[],x=P}if(E.length===0)return;if(o)w.onLogs(E);else for(const P of E)w.onLogs([P])}catch(E){v&&E instanceof ie&&(O=!1),(B=w.onError)==null||B.call(w,E)}},{emitOnBegin:!0,interval:l});return async()=>{v&&await A(e,lt,"uninstallFilter")({filter:v}),T()}})})():(()=>{const g=f??!1,m=N(["watchContractEvent",r,s,o,e.uid,a,l,g]);let w=!0,x=()=>w=!1;return ee(m,{onLogs:u,onError:c},v=>((async()=>{try{const O=(()=>{if(e.transport.type==="fallback"){const E=e.transport.transports.find(P=>P.config.type==="webSocket");return E?E.value:e.transport}return e.transport})(),T=a?_e({abi:n,eventName:a,args:s}):[],{unsubscribe:B}=await O.subscribe({params:["logs",{address:r,topics:T}],onData(E){var k;if(!w)return;const P=E.result;try{const{eventName:F,args:j}=Qt({abi:n,data:P.data,topics:P.topics,strict:f}),$=K(P,{args:j,eventName:F});v.onLogs([$])}catch(F){let j,$;if(F instanceof Ee||F instanceof st){if(f)return;j=F.abiItem.name,$=(k=F.abiItem.inputs)==null?void 0:k.some(de=>!("name"in de&&de.name))}const Ve=K(P,{args:$?[]:{},eventName:j});v.onLogs([Ve])}},onError(E){var P;(P=v.onError)==null||P.call(v,E)}});x=B,w||x()}catch(O){c==null||c(O)}})(),()=>x()))})()}async function fa(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Nt=256;let Je=Nt,Ze;function ba(e=11){if(!Ze||Je+e>Nt*2){Ze="",Je=0;for(let t=0;t<Nt;t++)Ze+=(256+Math.random()*256|0).toString(16).substring(1)}return Ze.substring(Je,Je+++e)}function ha(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,ccipRead:r,key:s="base",name:o="Base Client",pollingInterval:a=4e3,type:i="base"}=e,c=e.chain,u=e.account?te(e.account):void 0,{config:d,request:l,value:f}=e.transport({chain:c,pollingInterval:a}),h={...d,...f},p={account:u,batch:t,cacheTime:n,ccipRead:r,chain:c,key:s,name:o,pollingInterval:a,request:l,transport:h,type:i,uid:ba()};function b(g){return m=>{const w=m(g);for(const v in p)delete w[v];const x={...g,...w};return Object.assign(x,{extend:b(x)})}}return Object.assign(p,{extend:b(p)})}function Rt(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const a=async({count:i=0}={})=>{const c=async({error:u})=>{const d=typeof t=="function"?t({count:i,error:u}):t;d&&await Ct(d),a({count:i+1})};try{const u=await e();s(u)}catch(u){if(i<n&&await r({count:i,error:u}))return c({error:u});o(u)}};a()})}function pa(e,t={}){return async(n,r={})=>{const{retryDelay:s=150,retryCount:o=3}={...t,...r};return Rt(async()=>{try{return await e(n)}catch(a){const i=a;switch(i.code){case Te.code:throw new Te(i);case Be.code:throw new Be(i);case Ie.code:throw new Ie(i);case Oe.code:throw new Oe(i);case ae.code:throw new ae(i);case ie.code:throw new ie(i);case ke.code:throw new ke(i);case Fe.code:throw new Fe(i);case $e.code:throw new $e(i);case je.code:throw new je(i);case pe.code:throw new pe(i);case Ce.code:throw new Ce(i);case he.code:throw new he(i);case Ne.code:throw new Ne(i);case Re.code:throw new Re(i);case Se.code:throw new Se(i);case Me.code:throw new Me(i);case Le.code:throw new Le(i);case 5e3:throw new he(i);default:throw a instanceof y?a:new Eo(i)}}},{delay:({count:a,error:i})=>{var c;if(i&&i instanceof re){const u=(c=i==null?void 0:i.headers)==null?void 0:c.get("Retry-After");if(u!=null&&u.match(/\d/))return Number.parseInt(u)*1e3}return~~(1<<a)*s},retryCount:o,shouldRetry:({error:a})=>ma(a)})}}function ma(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===pe.code||e.code===ae.code:e instanceof re&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function ya({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:a},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:a},request:pa(n,{retryCount:r,retryDelay:s}),value:i}}class ga extends y{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function wa(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let a;try{const i=new AbortController;n>0&&(a=setTimeout(()=>{r?i.abort():o(t)},n)),s(await e({signal:(i==null?void 0:i.signal)||null}))}catch(i){i.name==="AbortError"&&o(t),o(i)}finally{clearTimeout(a)}})()})}function va(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const $n=va();function xa(e,t={}){return{async request(n){var l;const{body:r,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,i={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=i;try{const f=await wa(async({signal:p})=>{const b={...i,body:Array.isArray(r)?N(r.map(w=>({jsonrpc:"2.0",id:w.id??$n.take(),...w}))):N({jsonrpc:"2.0",id:r.id??$n.take(),...r}),headers:{...c,"Content-Type":"application/json"},method:u||"POST",signal:d||(a>0?p:null)},g=new Request(e,b);return s&&await s(g),await fetch(e,b)},{errorInstance:new En({body:r,url:e}),timeout:a,signal:!0});o&&await o(f);let h;if((l=f.headers.get("Content-Type"))!=null&&l.startsWith("application/json")?h=await f.json():(h=await f.text(),h=JSON.parse(h||"{}")),!f.ok)throw new re({body:r,details:N(h.error)||f.statusText,headers:f.headers,status:f.status,url:e});return h}catch(f){throw f instanceof re||f instanceof En?f:new re({body:r,details:f.message,url:e})}}}}function Ni(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:i,retryDelay:c}=t;return({chain:u,retryCount:d,timeout:l})=>{const{batchSize:f=1e3,wait:h=0}=typeof n=="object"?n:{},p=t.retryCount??d,b=l??t.timeout??1e4,g=e||(u==null?void 0:u.rpcUrls.default.http[0]);if(!g)throw new ga;const m=xa(g,{fetchOptions:r,onRequest:a,onResponse:i,timeout:b});return ya({key:s,name:o,async request({method:w,params:x}){const v={method:w,params:x},{schedule:O}=kr({id:g,wait:h,shouldSplitBatch(P){return P.length>f},fn:P=>m.request({body:P}),sort:(P,k)=>P.id-k.id}),T=async P=>n?O(P):[await m.request({body:P})],[{error:B,result:E}]=await T(v);if(B)throw new cr({body:v,error:B,url:g});return E},retryCount:p,retryDelay:c,timeout:b,type:"http"},{fetchOptions:r,url:g})}}function nn(e,t){var r,s,o,a,i,c;if(!(e instanceof y))return!1;const n=e.walk(u=>u instanceof xt);return n instanceof xt?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((o=n.data)==null?void 0:o.errorName)==="ResolverNotContract"||((a=n.data)==null?void 0:a.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Kn[50]):!1}function Fr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return z(t)?t:null}function Xe(e){let t=new Uint8Array(32).fill(0);if(!e)return R(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Fr(n[r]),o=s?X(s):S(H(n[r]),"bytes");t=S(_([t,o]),"bytes")}return R(t)}function Pa(e){return`[${e.slice(2)}]`}function Ea(e){const t=new Uint8Array(32).fill(0);return e?Fr(e)||S(H(e)):R(t)}function dt(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(H(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=H(s[o]);a.byteLength>255&&(a=H(Pa(Ea(s[o])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Aa(e,{blockNumber:t,blockTag:n,coinType:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=we({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=le({abi:kn,functionName:"addr",...r!=null?{args:[Xe(s),BigInt(r)]}:{args:[Xe(s)]}}),d={address:c,abi:Ir,functionName:"resolve",args:[ue(dt(s)),u],blockNumber:t,blockTag:n},l=A(e,Q,"readContract"),f=o?await l({...d,args:[...d.args,o]}):await l(d);if(f[0]==="0x")return null;const h=ge({abi:kn,args:r!=null?[Xe(s),BigInt(r)]:void 0,functionName:"addr",data:f[0]});return h==="0x"||ot(h)==="0x00"?null:h}catch(u){if(a)throw u;if(nn(u,"resolve"))return null;throw u}}class Ta extends y{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class xe extends y{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class rn extends y{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Ba extends y{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Ia=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Oa=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ka=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Fa=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function $a(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function jn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function $r({uri:e,gatewayUrls:t}){const n=ka.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=jn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=jn(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Ia),{protocol:a,subpath:i,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},d=a==="ipns:/"||i==="ipns/",l=a==="ipfs:/"||i==="ipfs/"||Oa.test(e);if(e.startsWith("http")&&!d&&!l){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=e.replace(Fa,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new rn({uri:e})}function jr(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ta({data:e});return e.image||e.image_url||e.image_data}async function ja({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await sn({gatewayUrls:e,uri:jr(n)})}catch{throw new rn({uri:t})}}async function sn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=$r({uri:t,gatewayUrls:e});if(r||await $a(n))return n;throw new rn({uri:t})}function Ca(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,a]=n.split(":"),[i,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new xe({reason:"Only EIP-155 supported"});if(!a)throw new xe({reason:"Chain ID not found"});if(!c)throw new xe({reason:"Contract address not found"});if(!s)throw new xe({reason:"Token ID not found"});if(!i)throw new xe({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function Na(e,{nft:t}){if(t.namespace==="erc721")return Q(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Q(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Ba({namespace:t.namespace})}async function Ra(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Sa(e,{gatewayUrls:t,record:n}):sn({uri:n,gatewayUrls:t})}async function Sa(e,{gatewayUrls:t,record:n}){const r=Ca(n),s=await Na(e,{nft:r}),{uri:o,isOnChain:a,isEncoded:i}=$r({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=i?atob(o.replace("data:application/json;base64,","")):o,d=JSON.parse(u);return sn({uri:jr(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ja({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Cr(e,{blockNumber:t,blockTag:n,name:r,key:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=we({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:Ir,functionName:"resolve",args:[ue(dt(r)),le({abi:On,functionName:"text",args:[Xe(r),s]})],blockNumber:t,blockTag:n},d=A(e,Q,"readContract"),l=o?await d({...u,args:[...u.args,o]}):await d(u);if(l[0]==="0x")return null;const f=ge({abi:On,functionName:"text",data:l[0]});return f===""?null:f}catch(u){if(a)throw u;if(nn(u,"resolve"))return null;throw u}}async function Ma(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){const c=await A(e,Cr,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!c)return null;try{return await Ra(e,{record:c,gatewayUrls:r})}catch{return null}}async function La(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:s,strict:o,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=we({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Yo,functionName:"reverse",args:[ue(dt(c))],blockNumber:n,blockTag:r},d=A(e,Q,"readContract"),[l,f]=s?await d({...u,args:[...u.args,s]}):await d(u);return t.toLowerCase()!==f.toLowerCase()?null:l}catch(u){if(o)throw u;if(nn(u,"reverse"))return null;throw u}}async function Ga(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=we({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await A(e,Q,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[ue(dt(r))],blockNumber:t,blockTag:n});return a}async function za(e){const t=at(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Nr(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:a,toBlock:i}={}){const c=s??(r?[r]:void 0),u=at(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(f=>_e({abi:[f],eventName:f.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?I(o):o,toBlock:typeof i=="bigint"?I(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:l,request:u(l),strict:!!a,toBlock:i,type:"event"}}async function Rr(e){const t=at(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Ua(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?I(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function _a(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Da(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?I(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),Z(o)}async function Ha(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?I(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]});if(o!=="0x")return o}function qa(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Va(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?I(n):void 0,a=await e.request({method:"eth_feeHistory",params:[I(t),o||r,s]});return qa(a)}async function Wa(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>K(o));return t.abi?en({abi:t.abi,logs:s,strict:n}):s}class Ja extends y{constructor({callbackSelector:t,cause:n,data:r,extraData:s,sender:o,urls:a}){var i;super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],(i=n.metaMessages)!=null&&i.length?"":[],"Offchain Gateway Call:",a&&["  Gateway URL(s):",...a.map(c=>`    ${ze(c)}`)],`  Sender: ${o}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}}class Za extends y{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ze(n)}`,`Response: ${N(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}}class Xa extends y{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}}function Sr(e,t){if(!U(e,{strict:!1}))throw new oe({address:e});if(!U(t,{strict:!1}))throw new oe({address:t});return e.toLowerCase()===t.toLowerCase()}const Ya="0x556f1830",Mr={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Ka(e,{blockNumber:t,blockTag:n,data:r,to:s}){const{args:o}=tr({data:r,abi:[Mr]}),[a,i,c,u,d]=o,{ccipRead:l}=e,f=l&&typeof(l==null?void 0:l.request)=="function"?l.request:Lr;try{if(!Sr(s,a))throw new Xa({sender:a,to:s});const h=await f({data:c,sender:a,urls:i}),{data:p}=await De(e,{blockNumber:t,blockTag:n,data:_([u,me([{type:"bytes"},{type:"bytes"}],[h,d])]),to:s});return p}catch(h){throw new Ja({callbackSelector:u,cause:h,data:r,extraData:d,sender:a,urls:i})}}async function Lr({data:e,sender:t,urls:n}){var s;let r=new Error("An unknown error occurred.");for(let o=0;o<n.length;o++){const a=n[o],i=a.includes("{data}")?"GET":"POST",c=i==="POST"?{data:e,sender:t}:void 0;try{const u=await fetch(a.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(c),method:i});let d;if((s=u.headers.get("Content-Type"))!=null&&s.startsWith("application/json")?d=(await u.json()).data:d=await u.text(),!u.ok){r=new re({body:c,details:d!=null&&d.error?N(d.error):u.statusText,headers:u.headers,status:u.status,url:a});continue}if(!z(d)){r=new Za({result:d,url:a});continue}return d}catch(u){r=new re({body:c,details:u.message,url:a})}}throw r}const Qa=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:Lr,offchainLookup:Ka,offchainLookupAbiItem:Mr,offchainLookupSignature:Ya},Symbol.toStringTag,{value:"Module"})),ei=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ti=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ni(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:ii({domain:t}),...e.types};ai({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(ri({domain:t,types:s})),r!=="EIP712Domain"&&o.push(Gr({data:n,primaryType:r,types:s})),S(_(o))}function ri({domain:e,types:t}){return Gr({data:e,primaryType:"EIP712Domain",types:t})}function Gr({data:e,primaryType:t,types:n}){const r=zr({data:e,primaryType:t,types:n});return S(r)}function zr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[si({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=_r({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(i)}return me(r,s)}function si({primaryType:e,types:t}){const n=ue(oi({primaryType:e,types:t}));return S(n)}function oi({primaryType:e,types:t}){let n="";const r=Ur({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function Ur({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])Ur({primaryType:o.type,types:t},n);return n}function _r({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},S(zr({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},S(r)];if(n==="string")return[{type:"bytes32"},S(ue(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>_r({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},S(me(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}function ai(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const c of a){const{name:u,type:d}=c,l=i[u],f=d.match(ti);if(f&&(typeof l=="number"||typeof l=="bigint")){const[b,g,m]=f;I(l,{signed:g==="int",size:Number.parseInt(m)/8})}if(d==="address"&&typeof l=="string"&&!U(l))throw new oe({address:l});const h=d.match(ei);if(h){const[b,g]=h;if(g&&C(l)!==Number.parseInt(g))throw new is({expectedSize:Number.parseInt(g),givenSize:C(l)})}const p=s[d];p&&o(p,l)}};if(s.EIP712Domain&&t&&o(s.EIP712Domain,t),r!=="EIP712Domain"){const a=s[r];o(a,n)}}function ii({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const gt="/docs/contract/encodeDeployData";function ci(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new es({docsPath:gt});if(!("inputs"in s))throw new un({docsPath:gt});if(!s.inputs||s.inputs.length===0)throw new un({docsPath:gt});const o=me(s.inputs,n);return Ut([r,o])}const ui={"0x0":"reverted","0x1":"success"};function li(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>K(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Z(e.transactionIndex):null,status:e.status?ui[e.status]:null,type:e.type?hr[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const di=`Ethereum Signed Message:
`;function Dr(e,t){const n=typeof e=="string"?H(e):e.raw instanceof Uint8Array?e.raw:X(e.raw),r=H(`${di}${n.length}`);return S(_([r,n]),t)}function fi(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function bi(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Z(e.nonce):void 0,storageProof:e.storageProof?fi(e.storageProof):void 0}}async function hi(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",a=n!==void 0?I(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,a||o]});return bi(i)}async function pi(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?I(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function on(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){var d,l,f;const a=r||"latest",i=n!==void 0?I(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,I(o)]}):(i||a)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,I(o)]})),!c)throw new or({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(((f=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.transaction)==null?void 0:f.format)||pr)(c)}async function mi(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([A(e,qe,"getBlockNumber")({}),t?A(e,on,"getBlockNumber")({hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function St(e,{hash:t}){var s,o,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new ar({hash:t});return(((a=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionReceipt)==null?void 0:a.format)||li)(n)}async function yi(e,t){var g;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,multicallAddress:a,stateOverride:i}=t,c=t.contracts,u=r??(typeof((g=e.batch)==null?void 0:g.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=a;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=we({blockNumber:s,chain:e.chain,contract:"multicall3"})}const l=[[]];let f=0,h=0;for(let m=0;m<c.length;m++){const{abi:w,address:x,args:v,functionName:O}=c[m];try{const T=le({abi:w,args:v,functionName:O});h+=(T.length-2)/2,u>0&&h>u&&l[f].length>0&&(f++,h=(T.length-2)/2,l[f]=[]),l[f]=[...l[f],{allowFailure:!0,callData:T,target:x}]}catch(T){const B=Ge(T,{abi:w,address:x,args:v,docsPath:"/docs/contract/multicall",functionName:O});if(!n)throw B;l[f]=[...l[f],{allowFailure:!0,callData:"0x",target:x}]}}const p=await Promise.allSettled(l.map(m=>A(e,Q,"readContract")({abi:$t,address:d,args:[m],blockNumber:s,blockTag:o,functionName:"aggregate3",stateOverride:i}))),b=[];for(let m=0;m<p.length;m++){const w=p[m];if(w.status==="rejected"){if(!n)throw w.reason;for(let v=0;v<l[m].length;v++)b.push({status:"failure",error:w.reason,result:void 0});continue}const x=w.value;for(let v=0;v<x.length;v++){const{returnData:O,success:T}=x[v],{callData:B}=l[m][v],{abi:E,address:P,functionName:k,args:F}=c[b.length];try{if(B==="0x")throw new rt;if(!T)throw new Vt({data:O});const j=ge({abi:E,args:F,data:O,functionName:k});b.push(n?{result:j,status:"success"}:j)}catch(j){const $=Ge(j,{abi:E,address:P,args:F,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw $;b.push({error:$,result:void 0,status:"failure"})}}}if(b.length!==c.length)throw new y("multicall results mismatch");return b}const gi="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function wi(e,t){const n=z(e)?X(e):e,r=z(t)?X(t):t;return Yr(n,r)}function vi({r:e,s:t,v:n,yParity:r}){const s=(()=>{if(r===0||r===1)return r;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new Kr.Signature(Pe(e),Pe(t)).toCompactHex()}${s===0?"1b":"1c"}`}async function an(e,{address:t,hash:n,signature:r,...s}){const o=z(r)?r:typeof r=="object"&&"r"in r&&"s"in r?vi(r):R(r);try{const{data:a}=await A(e,De,"call")({data:ci({abi:Ko,args:[t,n,o],bytecode:gi}),...s});return wi(a??"0x0","0x1")}catch(a){if(a instanceof ir)return!1;throw a}}async function xi(e,{address:t,message:n,signature:r,...s}){const o=Dr(n);return an(e,{address:t,hash:o,signature:r,...s})}async function Pi(e,t){const{address:n,signature:r,message:s,primaryType:o,types:a,domain:i,...c}=t,u=ni({message:s,primaryType:o,types:a,domain:i});return an(e,{address:n,hash:u,signature:r,...c})}function Hr(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const l=N(["watchBlockNumber",e.uid,t,n,a]);return ee(l,{onBlockNumber:r,onError:s},f=>He(async()=>{var h;try{const p=await A(e,qe,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)f.onBlockNumber(b,c),c=b}(!c||p>c)&&(f.onBlockNumber(p,c),c=p)}catch(p){(h=f.onError)==null||h.call(f,p)}},{emitOnBegin:t,interval:a}))})():(()=>{const l=N(["watchBlockNumber",e.uid,t,n]);return ee(l,{onBlockNumber:r,onError:s},f=>{let h=!0,p=()=>h=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(w=>w.config.type==="webSocket");return m?m.value:e.transport}return e.transport})(),{unsubscribe:g}=await b.subscribe({params:["newHeads"],onData(m){var x;if(!h)return;const w=Pe((x=m.result)==null?void 0:x.number);f.onBlockNumber(w,c),c=w},onError(m){var w;(w=f.onError)==null||w.call(f,m)}});p=g,h||p()}catch(b){s==null||s(b)}})(),()=>p()})})()}async function Ei(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,retryCount:o=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:i}){const c=N(["waitForTransactionReceipt",e.uid,n]);let u=0,d,l,f,h=!1;return new Promise((p,b)=>{i&&setTimeout(()=>b(new Pn({hash:n})),i);const g=ee(c,{onReplaced:r,resolve:p,reject:b},m=>{const w=A(e,Hr,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(x){const v=T=>{w(),T(),g()};let O=x;if(!h){u>o&&v(()=>m.reject(new Pn({hash:n})));try{if(f){if(t>1&&(!f.blockNumber||O-f.blockNumber+1n<t))return;v(()=>m.resolve(f));return}if(d||(h=!0,await Rt(async()=>{d=await A(e,on,"getTransaction")({hash:n}),d.blockNumber&&(O=d.blockNumber)},{delay:a,retryCount:o}),h=!1),f=await A(e,St,"getTransactionReceipt")({hash:n}),t>1&&(!f.blockNumber||O-f.blockNumber+1n<t))return;v(()=>m.resolve(f))}catch(T){if(T instanceof or||T instanceof ar){if(!d){h=!1;return}try{l=d,h=!0;const B=await Rt(()=>A(e,Y,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:k})=>k instanceof br});h=!1;const E=B.transactions.find(({from:k,nonce:F})=>k===l.from&&F===l.nonce);if(!E||(f=await A(e,St,"getTransactionReceipt")({hash:E.hash}),t>1&&(!f.blockNumber||O-f.blockNumber+1n<t)))return;let P="replaced";E.to===l.to&&E.value===l.value?P="repriced":E.from===E.to&&E.value===0n&&(P="cancelled"),v(()=>{var k;(k=m.onReplaced)==null||k.call(m,{reason:P,replacedTransaction:l,transaction:E,transactionReceipt:f}),m.resolve(f)})}catch(B){v(()=>m.reject(B))}}else v(()=>m.reject(T))}finally{u++}}}})})})}function Ai(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=a??!1;let l;return u?(()=>{const p=N(["watchBlocks",e.uid,t,n,r,d,c]);return ee(p,{onBlock:s,onError:o},b=>He(async()=>{var g;try{const m=await A(e,Y,"getBlock")({blockTag:t,includeTransactions:d});if(m.number&&(l!=null&&l.number)){if(m.number===l.number)return;if(m.number-l.number>1&&n)for(let w=(l==null?void 0:l.number)+1n;w<m.number;w++){const x=await A(e,Y,"getBlock")({blockNumber:w,includeTransactions:d});b.onBlock(x,l),l=x}}(!(l!=null&&l.number)||t==="pending"&&!(m!=null&&m.number)||m.number&&m.number>l.number)&&(b.onBlock(m,l),l=m)}catch(m){(g=b.onError)==null||g.call(b,m)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=()=>p=!1;return(async()=>{try{const g=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(x=>x.config.type==="webSocket");return w?w.value:e.transport}return e.transport})(),{unsubscribe:m}=await g.subscribe({params:["newHeads"],onData(w){var O,T,B;if(!p)return;const v=(((B=(T=(O=e.chain)==null?void 0:O.formatters)==null?void 0:T.block)==null?void 0:B.format)||mr)(w.result);s(v,l),l=v},onError(w){o==null||o(w)}});b=m,p||b()}catch(g){o==null||o(g)}})(),()=>b()})()}function Ti(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:a,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const f=typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),h=l??!1;return f?(()=>{const g=N(["watchEvent",t,n,r,e.uid,s,d,a]);return ee(g,{onLogs:c,onError:i},m=>{let w;a!==void 0&&(w=a-1n);let x,v=!1;const O=He(async()=>{var T;if(!v){try{x=await A(e,Nr,"createEventFilter")({address:t,args:n,event:s,events:o,strict:h,fromBlock:a})}catch{}v=!0;return}try{let B;if(x)B=await A(e,ut,"getFilterChanges")({filter:x});else{const E=await A(e,qe,"getBlockNumber")({});w&&w!==E?B=await A(e,tn,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:w+1n,toBlock:E}):B=[],w=E}if(B.length===0)return;if(r)m.onLogs(B);else for(const E of B)m.onLogs([E])}catch(B){x&&B instanceof ie&&(v=!1),(T=m.onError)==null||T.call(m,B)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await A(e,lt,"uninstallFilter")({filter:x}),O()}})})():(()=>{let g=!0,m=()=>g=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const T=e.transport.transports.find(B=>B.config.type==="webSocket");return T?T.value:e.transport}return e.transport})(),x=o??(s?[s]:void 0);let v=[];x&&(v=[x.flatMap(T=>_e({abi:[T],eventName:T.name,args:n}))],s&&(v=v[0]));const{unsubscribe:O}=await w.subscribe({params:["logs",{address:t,topics:v}],onData(T){var E;if(!g)return;const B=T.result;try{const{eventName:P,args:k}=Qt({abi:x??[],data:B.data,topics:B.topics,strict:h}),F=K(B,{args:k,eventName:P});c([F])}catch(P){let k,F;if(P instanceof Ee||P instanceof st){if(l)return;k=P.abiItem.name,F=(E=P.abiItem.inputs)==null?void 0:E.some($=>!("name"in $&&$.name))}const j=K(B,{args:F?[]:{},eventName:k});c([j])}},onError(T){i==null||i(T)}});m=O,g||m()}catch(w){i==null||i(w)}})(),()=>m()})()}function Bi(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=N(["watchPendingTransactions",e.uid,t,o]);return ee(u,{onTransactions:r,onError:n},d=>{let l;const f=He(async()=>{var h;try{if(!l)try{l=await A(e,Rr,"createPendingTransactionFilter")({});return}catch(b){throw f(),b}const p=await A(e,ut,"getFilterChanges")({filter:l});if(p.length===0)return;if(t)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){(h=d.onError)==null||h.call(d,p)}},{emitOnBegin:!0,interval:o});return async()=>{l&&await A(e,lt,"uninstallFilter")({filter:l}),f()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}function Ii(e){var l,f,h;const{scheme:t,statement:n,...r}=((l=e.match(Oi))==null?void 0:l.groups)??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:i,requestId:c,...u}=((f=e.match(ki))==null?void 0:f.groups)??{},d=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Oi=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,ki=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Fi(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:a=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||t&&!Sr(r.address,t))return!1}catch{return!1}return!0}async function $i(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:a,signature:i,time:c=new Date,...u}=t,d=Ii(s);if(!d.address||!Fi({address:n,domain:r,message:d,nonce:o,scheme:a,time:c}))return!1;const f=Dr(s);return an(e,{address:d.address,hash:f,signature:i,...u})}function ji(e){return{call:t=>De(e,t),createBlockFilter:()=>za(e),createContractEventFilter:t=>Yn(e,t),createEventFilter:t=>Nr(e,t),createPendingTransactionFilter:()=>Rr(e),estimateContractGas:t=>Zo(e,t),estimateGas:t=>Kt(e,t),getBalance:t=>Ua(e,t),getBlobBaseFee:()=>_a(e),getBlock:t=>Y(e,t),getBlockNumber:t=>qe(e,t),getBlockTransactionCount:t=>Da(e,t),getBytecode:t=>Ha(e,t),getChainId:()=>Er(e),getContractEvents:t=>Tr(e,t),getEnsAddress:t=>Aa(e,t),getEnsAvatar:t=>Ma(e,t),getEnsName:t=>La(e,t),getEnsResolver:t=>Ga(e,t),getEnsText:t=>Cr(e,t),getFeeHistory:t=>Va(e,t),estimateFeesPerGas:t=>jo(e,t),getFilterChanges:t=>ut(e,t),getFilterLogs:t=>Wa(e,t),getGasPrice:()=>Xt(e),getLogs:t=>tn(e,t),getProof:t=>hi(e,t),estimateMaxPriorityFeePerGas:t=>$o(e,t),getStorageAt:t=>pi(e,t),getTransaction:t=>on(e,t),getTransactionConfirmations:t=>mi(e,t),getTransactionCount:t=>gr(e,t),getTransactionReceipt:t=>St(e,t),multicall:t=>yi(e,t),prepareTransactionRequest:t=>Ar(e,t),readContract:t=>Q(e,t),sendRawTransaction:t=>fa(e,t),simulateContract:t=>sa(e,t),verifyMessage:t=>xi(e,t),verifySiweMessage:t=>$i(e,t),verifyTypedData:t=>Pi(e,t),uninstallFilter:t=>lt(e,t),waitForTransactionReceipt:t=>Ei(e,t),watchBlocks:t=>Ai(e,t),watchBlockNumber:t=>Hr(e,t),watchContractEvent:t=>da(e,t),watchEvent:t=>Ti(e,t),watchPendingTransactions:t=>Bi(e,t)}}function Ri(e){const{key:t="public",name:n="Public Client"}=e;return ha({...e,key:t,name:n,type:"publicClient"}).extend(ji)}export{es as AbiConstructorNotFoundError,un as AbiConstructorParamsNotFoundError,Nn as AbiDecodingDataSizeTooSmallError,rt as AbiDecodingZeroDataError,ts as AbiEncodingArrayLengthMismatchError,ns as AbiEncodingBytesSizeMismatchError,rs as AbiEncodingLengthMismatchError,Rn as AbiErrorSignatureNotFoundError,ln as AbiEventNotFoundError,ss as AbiEventSignatureEmptyTopicsError,Sn as AbiEventSignatureNotFoundError,Ye as AbiFunctionNotFoundError,os as AbiFunctionOutputsNotFoundError,po as AccountStateConflictError,y as BaseError,ko as BaseFeeScalarError,br as BlockNotFoundError,is as BytesSizeMismatchError,ir as CallExecutionError,Me as ChainDisconnectedError,jt as ChainDoesNotSupportContract,Or as ClientChainNotConfiguredError,vo as ContractFunctionExecutionError,xt as ContractFunctionRevertedError,xo as ContractFunctionZeroDataError,Ee as DecodeLogDataMismatch,st as DecodeLogTopicsMismatch,Zt as Eip1559FeesNotSupportedError,xe as EnsAvatarInvalidNftUriError,Ba as EnsAvatarUnsupportedNamespaceError,rn as EnsAvatarUriResolutionError,To as EstimateGasExecutionError,fe as ExecutionRevertedError,et as FeeCapTooHighError,Pt as FeeCapTooLowError,go as FeeConflictError,fs as FilterTypeNotSupportedError,re as HttpRequestError,Bt as InsufficientFundsError,Li as IntegerOutOfRangeError,ae as InternalRpcError,It as IntrinsicGasTooHighError,Ot as IntrinsicGasTooLowError,us as InvalidAbiDecodingTypeError,cs as InvalidAbiEncodingTypeError,oe as InvalidAddressError,ls as InvalidArrayError,Jr as InvalidBytesBooleanError,ds as InvalidDefinitionTypeError,ie as InvalidInputRpcError,Oe as InvalidParamsRpcError,Be as InvalidRequestRpcError,wo as InvalidSerializableTransactionError,Ce as JsonRpcVersionUnsupportedError,pe as LimitExceededRpcError,Fo as MaxFeePerGasTooLowError,Ie as MethodNotFoundRpcError,je as MethodNotSupportedRpcError,Tt as NonceMaxValueError,Et as NonceTooHighError,At as NonceTooLowError,Te as ParseRpcError,Se as ProviderDisconnectedError,ye as ProviderRpcError,Vt as RawContractError,ke as ResourceNotFoundRpcError,Fe as ResourceUnavailableRpcError,M as RpcError,cr as RpcRequestError,Gi as SizeExceedsPaddingSizeError,zi as SizeOverflowError,Cn as SliceOffsetOutOfBoundsError,mo as StateAssignmentConflictError,Le as SwitchChainError,En as TimeoutError,tt as TipAboveFeeCapError,or as TransactionNotFoundError,ar as TransactionReceiptNotFoundError,$e as TransactionRejectedRpcError,kt as TransactionTypeNotSupportedError,Ne as UnauthorizedProviderError,Wt as UnknownNodeError,Eo as UnknownRpcError,Re as UnsupportedProviderMethodError,ga as UrlRequiredError,he as UserRejectedRequestError,Pn as WaitForTransactionReceiptTimeoutError,Jt as assertRequest,wr as blobsToCommitments,vr as blobsToProofs,hs as boolToBytes,Vr as boolToHex,no as bytesToBigInt,ro as bytesToBool,R as bytesToHex,q as bytesToNumber,so as bytesToString,Lr as ccipFetch,Lr as ccipRequest,Vn as checksumAddress,Uo as commitmentToVersionedHash,_o as commitmentsToVersionedHashes,_ as concat,Us as concatBytes,Ut as concatHex,ha as createClient,Ri as createPublicClient,ya as createTransport,it as decodeAbiParameters,tr as decodeErrorResult,Qt as decodeEventLog,ge as decodeFunctionResult,me as encodeAbiParameters,ci as encodeDeployData,_e as encodeEventTopics,le as encodeFunctionData,bo as etherUnits,mr as formatBlock,sr as formatEther,L as formatGwei,K as formatLog,pr as formatTransaction,li as formatTransactionReceipt,dr as formatTransactionRequest,rr as formatUnits,Ue as getAbiItem,we as getChainContractAddress,Ge as getContractError,zt as getEventSelector,Gs as getEventSignature,qt as getFunctionSelector,Gs as getFunctionSignature,Wo as getTransactionType,ii as getTypesForEIP712Domain,ho as gweiUnits,ri as hashDomain,Dr as hashMessage,ni as hashTypedData,Pe as hexToBigInt,se as hexToBytes,Z as hexToNumber,Ni as http,U as isAddress,Sr as isAddressEqual,z as isHex,S as keccak256,Ea as labelhash,$t as multicall3Abi,Xe as namehash,ps as numberToBytes,I as numberToHex,Ka as offchainLookup,Mr as offchainLookupAbiItem,Ya as offchainLookupSignature,Mt as pad,Ui as padBytes,ne as padHex,en as parseEventLogs,Ys as prepareEncodeFunctionData,di as presignMessagePrefix,ji as publicActions,Io as rpcTransactionType,vi as serializeSignature,zo as sha256,vi as signatureToHex,C as size,Qe as slice,Zn as sliceBytes,_s as sliceHex,H as stringToBytes,Wr as stringToHex,N as stringify,Vo as toBlobSidecars,qo as toBlobs,X as toBytes,Hn as toEventHash,zt as toEventSelector,Gs as toEventSignature,Hn as toFunctionHash,qt as toFunctionSelector,Gs as toFunctionSignature,ue as toHex,hr as transactionType,ot as trim,ai as validateTypedData,Rt as withRetry,wa as withTimeout};
